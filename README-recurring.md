# 定时任务功能说明

## 功能概述
系统现在支持创建定时重复任务，会持续提醒直到任务完成。

## 使用方法

### 1. 创建定时任务
在群里直接说：
- "每周五提交周报" → 每周五提醒
- "每天检查邮件" → 每天提醒
- "每月1号整理财务报表" → 每月提醒

### 2. 查看定时任务
```
/recurring
```
显示所有定时任务及完成状态

### 3. 完成定时任务
当收到提醒后，回复：
```
周报 完成
```
任务会标记为本周已完成，下周自动重置

## 工作流程

1. **创建任务**
   ```
   用户: "每周五下午5点提交周报"
   机器人: "⏰ 定时任务已创建！
           📋 任务：提交周报
           🔄 频率：每周五 17:00
           👤 负责人：@username"
   ```

2. **定时提醒**
   ```
   机器人: "⏰ 定时任务提醒！
           📋 提交周报
           👤 @username
           请完成任务后回复：'提交周报 完成'"
   ```

3. **标记完成**
   ```
   用户: "周报完成"
   机器人: "✅ 定时任务'提交周报'本周已完成！
           下次提醒时间：下周同一时间"
   ```

## 特点

- ✅ 持续提醒直到完成
- ✅ 每周自动重置状态
- ✅ 支持每天/每周/每月频率
- ✅ 可指定具体时间
- ✅ 任务数据持久化存储

## 数据存储

定时任务保存在 `recurring-tasks.json` 文件中，重启后自动恢复。

## 注意事项

1. 时间格式为24小时制（如17:00）
2. 每周任务在周一凌晨自动重置完成状态
3. 定时任务独立于Notion，不会写入Notion数据库